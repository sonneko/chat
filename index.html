<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>チャット用サイト</title>
</head>
<body>
    <div id="indexPage">
        <h1>ちゃっとようのさいと</h1>
        <p class="attention">知識ある人なら他の人のちゃっと内容が見れるっちゃ見れるのでご注意ください。</p>
        <a href="intro.html">このサイトについて→</a>
        <p>↓ユーサーIDを入力して、チャット開始！！</p>
        <input type="text" id="userId">
    </div>
    <div id="contentPage">
        <h1>ちゃっとようのさいと</h1>
        <p>ちゃっとぺーじです</p>
        <div class="chat">
            
        </div>
        
    </div>
    <script>
        // 要素を取得
        const indexPageEle = document.getElementById("indexPage");
        const contentPageEle = document.getElementById("contentPage");
        const userIdEle = document.getElementById("userId");
        //現在のURLを取得
        const nowUrl = window.location.href;
        // paramsを取得
        const params = nowUrl.split("?")[1].split("&");
        let paramsObj = {}
        params.forEach((item, index) => {
            const splitStr = item.split("=");
            paramsObj[splitStr[0]] = splitStr[1];
        })
        const render = (ver) => {
            if (ver === "chat") {
                indexPageEle.style.display = "none";
                contentPageEle.style.display = "initial";
            }
            if (ver === "index") {
                indexPageEle.style.display = "initial";
                contentPageEle.style.display = "none";
            }
        }
        if (paramsObj.user === undefined) render("index");
        else if (paramsObj.to === undefined) render("index");
        else render("index");
    </script>
</body>
</html>